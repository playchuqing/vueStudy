<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../vue.js"></script>
    <style>
        #app {
            margin: 50px auto;
            width: 600px;
        }
        
        fieldset {
            border: 1px solid purple;
            margin-bottom: 20px;
        }
        
        fieldset input {
            width: 200px;
            height: 30px;
            margin: 10px 0;
        }
        
        table {
            width: 600px;
            border: 2px solid purple;
            text-align: center;
        }
        
        thead {
            background-color: purple;
            color: #fff;
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- start -->
        <div>
            <fieldset>
                <legend>撩课信息录入系统(Vue版)</legend>
                <div>
                    <label for="">
                        姓名:
                        <input v-model.trim="newPerson.name" type="text" placeholder="请输入姓名">
                    </label>
                </div>
                <div>
                    <label for="">
                        年龄:
                        <input v-model.trim="newPerson.age" type="text" placeholder="请输入年龄">
                    </label>
                </div>
                <div>
                    <label for="">
                        性别:
                        <select name="" id="" v-model.trim="newPerson.sex" >
                            <option value="男">男</option>
                            <option value="女">女</option>
                        </select>
                    </label>
                </div>
                <div>
                    <label for="">
                        手机:
                        <input v-model.trim="newPerson.phone" type="text" placeholder="请输入手机号码">
                    </label>
                </div>
                <button @click="addNewP()">创建新用户</button>
            </fieldset>
        </div>
        <!-- end -->

        <!-- start -->
        <table>
            <thead>
                <tr>
                    <td>姓名</td>
                    <td>性别</td>
                    <td>年龄</td>
                    <td>手机</td>
                    <td>删除</td>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(p,index) in persons" :key="p.id">
                    <td>{{p.name}}</td>
                    <td>{{p.age}}</td>
                    <td>{{p.sex}}</td>
                    <td>{{p.phone}}</td>
                    <td>
                        <button @click="delP(index)">删除</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- end -->
    </div>
    <script>
        const app = Vue.createApp({
            data() {
                return {
                    persons: [{
                        name: '张三',
                        age: 20,
                        sex: '男',
                        phone: '1777777'
                    }, {
                        name: '李四',
                        age: 30,
                        sex: '男',
                        phone: '1888888'
                    }, {
                        name: '王文',
                        age: 25,
                        sex: '男',
                        phone: '18866668'
                    }, {
                        name: '啊三',
                        age: 15,
                        sex: '男',
                        phone: '19999555'
                    }],
                    newPerson: {
                        name: '',
                        age: '',
                        sex: '男',
                        phone: ''
                    }
                }
            },
            methods: {
                // 删除
                delP(index) {
                    this.persons.splice(index, 1)
                },
                // 添加
                addNewP() {
                    const {
                        name,
                        age,
                        sex,
                        phone
                    } = this.newPerson;
                    console.log(name,
                        age,
                        sex,
                        phone);
                    // 判断
                    if (!name || !age || !sex || !phone) {
                        alert('输入的内容不完整');
                        return;
                    }
                    // 插入一条数据
                    this.persons.unshift(this.newPerson);
                    this.newPerson = {
                        name: '',
                        age: '',
                        sex: '男',
                        phone: ''
                    }
                }
            }
        }).mount('#app')
    </script>
</body>

</html>